<% if @products.empty? %>
  <h1>No Products are available</h1>
<% else %>
  <h1 class="mt-3 mb-3">Products</h1>
  <%= render "formfilter", product: @product %>
  <div class="container">
    <div class="row">
      <% @products.each do |product| %>
        <div class="col-md-4">
          <div class="card mb-3">
            <% if product.display_picture.attached? %>
              <%= image_tag product.display_picture, width: 350, height: 250, class: "product-image" %>
            <% else %>
              <p class="card-text mt-3">No image available for this Product!</p>
            <% end %>

            <div class="card-body bg-info text-white">
              <h5 class="card-title">Title: <%= product.title %></h5>
              <p class="card-text">Description:<br><%= product.description %></p>
            </div>

            <div class="card-footer bg-dark"> <a href="<%= product_path(product) %>" class="btn btn-primary">View Details</a> </div>

            <div class = "bg-dark"> <%= button_to 'Add to Cart', add_to_cart_path(current_user, product_id: product.id) %> </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
